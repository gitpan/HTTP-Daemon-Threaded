
<html>
<head>
<title>HTTP::Daemon::Threaded::SessionCache</title>
</head>
<body>
<table width='100%' border=0 CELLPADDING='0' CELLSPACING='3'>
<TR>
<TD VALIGN='top' align=left><FONT SIZE='-2'>
 SUMMARY:&nbsp;<A HREF='#constructor_summary'>CONSTR</a>&nbsp;|&nbsp;<A HREF='#method_summary'>METHOD</a>
 </FONT></TD>
<TD VALIGN='top' align=right><FONT SIZE='-2'>
DETAIL:&nbsp;<A HREF='#constructor_detail'>CONSTR</a>&nbsp;|&nbsp;<A HREF='#method_detail'>METHOD</a>
</FONT></TD>
</TR>
</table><hr>
<h2>Class HTTP::Daemon::Threaded::SessionCache</h2>

<hr>


Abstract base class for SessionCache classes.
Provides an interface definition for
caching session context in a threads::shared container.
Provides a default implementation to create non-persistent
sessions. Also acts as a factory for Session objects.
<p>
<b>Note:</b> Applications needing to provide their own
session class implementations should subclass this class instead, and
provide an instance of the subclass as the HTTP::Daemon::Threaded
constructor's SessionCache parameter. Such subclass instances may then
manufacture session objects using their own Session
subclass.
<p>
Copyright&copy 2006, Dean Arnold, Presicient Corp., USA<br>
All rights reserved.
<p>
Licensed under the Academic Free License version 2.1, as specified in the
License.txt file included in this software package, or at
<a href='http://www.opensource.org/licenses/afl-2.1.php'>OpenSource.org</a>.


<p>

<dl>

<dt><b>Author:</b></dt>
	<dd>D. Arnold</dd>

<dt><b>Version:</b></dt>
	<dd>0.90</dd>

<dt><b>Since:</b></dt>
	<dd>2006-08-21
</dd>

<p>
<i>Unless otherwise noted, <code>$self

</code> is the object instance variable.</i>
<p>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'><th align=left><font size='+2'>Constructor Summary</font></th></tr>

<tr><td align=left valign=top>
<code><a href='#HTTP::Daemon::Threaded::SessionCache'>new</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates threads::shared object to contain
any Session object that will be created
</td></tr>
</table><p>

<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'><th align=left><font size='+2'>Method Summary</font></th></tr>

<tr><td align=left valign=top>
<code><a href='#addSession'>addSession</a>($session)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new session to the cache
</td></tr>

<tr><td align=left valign=top>
<code><a href='#createSession'>createSession</a>($id, $timeout, $dough, $expires)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new session and store in the cache
</td></tr>

<tr><td align=left valign=top>
<code><a href='#getSession'>getSession</a>($request)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a session from the cache
</td></tr>

<tr><td align=left valign=top>
<code><a href='#openSession'>openSession</a>($cookie)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recover an existing session from persistent storage
</td></tr>

<tr><td align=left valign=top>
<code><a href='#removeSession'>removeSession</a>($id)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a session from the cache
</td></tr>
</table>
<p>

<a name='constructor_detail'></a>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'>
	<th align=left><font size='+2'>Constructor Details</font></th>
</tr>
</table>

<a name='new'></a>
<h3>new</h3>
<pre>
new()
</pre><p>
<dl>
<dd>Creates threads::shared object to contain
any Session object that will be created.
<p>
Subclasses should extend this to open any session storage,
and possible pre-cache session contexts.


<p>
<dd><dl>
<dt><b>Returns:</b><dd>HTTP::Daemon::Threaded::SessionCache object
</dd>
</dl></dd></dl><hr>

<p>

<a name='method_detail'></a>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'>
	<th align=left><font size='+2'>Method Details</font></th>
</tr></table>

<a name='addSession'></a>
<h3>addSession</h3>
<pre>
addSession($session)
</pre><p>
<dl>
<dd>Add a new session to the cache.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$session</code> - HTTP::Daemon::Threaded::Session object
</dd>
<dt><b>Returns:</b><dd>the HTTP::Daemon::Threaded::Session object
</dd>
</dl></dd></dl><hr>

<a name='createSession'></a>
<h3>createSession</h3>
<pre>
createSession($id, $timeout, $dough, $expires)
</pre><p>
<dl>
<dd>Create a new session and store in the cache.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$id</code> - <i>(optional)</i> unique ID of session to retrieve; default is whatever
the session object class generates
</dd>
<dd><code>$timeout</code> - <i>(optional)</i> max inactivity timeout; default is class specific
</dd>
<dd><code>$dough</code> - <i>(optional)</i> any information to be included in the session's cookie;
the $id will be prepended to this information
</dd>
<dd><code>$expires</code> - <i>(optional)</i> RFC1123 formatted cookie expiration date string, or
'Never'; default is single session (nonpersistent)

</dd>
<dt><b>Returns:</b><dd>undef if a session with the same ID already exists, or if the
session object cannot be created; otherwise,
the created HTTP::Daemon::Threaded::Session object
</dd>
</dl></dd></dl><hr>

<a name='getSession'></a>
<h3>getSession</h3>
<pre>
getSession($request)
</pre><p>
<dl>
<dd>Get a session from the cache.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$request</code> - HTTP::Request object for which a session is to be located
</dd>
<dt><b>Returns:</b><dd>the HTTP::Daemon::Threaded::Session object if it exists; undef otherwise
</dd>
</dl></dd></dl><hr>

<a name='openSession'></a>
<h3>openSession</h3>
<pre>
openSession($cookie)
</pre><p>
<dl>
<dd>Recover an existing session from persistent storage.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$cookie</code> - <i>(required)</i> HTTP Cookie header containing unique ID of
session to retrieve

</dd>
<dt><b>Returns:</b><dd>undef if the session object cannot be recovered; otherwise,
the HTTP::Daemon::Threaded::Session object
</dd>
</dl></dd></dl><hr>

<a name='removeSession'></a>
<h3>removeSession</h3>
<pre>
removeSession($id)
</pre><p>
<dl>
<dd>Remove a session from the cache.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$id</code> - unique ID of session to be removed
</dd>
<dt><b>Returns:</b><dd>the HTTP::Daemon::Threaded::SessionCache object
</dd>
</dl></dd></dl><hr>

<small>
<center>
<i>Generated by psichedoc on Mon Aug 28 09:45:39 2006</i>
</center>
</small>
</body>
</html>
