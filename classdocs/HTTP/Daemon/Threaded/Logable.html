
<html>
<head>
<title>HTTP::Daemon::Threaded::Logable</title>
</head>
<body>
<table width='100%' border=0 CELLPADDING='0' CELLSPACING='3'>
<TR>
<TD VALIGN='top' align=left><FONT SIZE='-2'>
 SUMMARY:&nbsp;CONSTR&nbsp;|&nbsp;<A HREF='#method_summary'>METHOD</a>
 </FONT></TD>
<TD VALIGN='top' align=right><FONT SIZE='-2'>
DETAIL:&nbsp;CONSTR&nbsp;|&nbsp;<A HREF='#method_detail'>METHOD</a>
</FONT></TD>
</TR>
</table><hr>
<h2>Class HTTP::Daemon::Threaded::Logable</h2>

<p>
<dl>
<dt><b>Known Subclasses:</b>
<dd><a href='../../../HTTP/Daemon/Threaded/WebClient.html'>HTTP::Daemon::Threaded::WebClient</a></dd>
<dd><a href='../../../HTTP/Daemon/Threaded/Content.html'>HTTP::Daemon::Threaded::Content</a></dd>
<dd><a href='../../../HTTP/Daemon/Threaded/Listener.html'>HTTP::Daemon::Threaded::Listener</a></dd>
</dt>
</dl>

<hr>


Abstract base logger class for component classes.
Provides an interface to the Event and Web Logger components which
responds to the current LogLevel of the component.
If the EventLogger component is not defined, then messages
are logged to STDERR. If the WebLogger component is not defined,
the messages are silently discarded.
<p>
Copyright&copy 2006, Dean Arnold, Presicient Corp., USA<br>
All rights reserved.
<p>
Licensed under the Academic Free License version 2.1, as specified in the
License.txt file included in this software package, or at
<a href='http://www.opensource.org/licenses/afl-2.1.php'>OpenSource.org</a>.


<p>

<dl>

<dt><b>Author:</b></dt>
	<dd>D. Arnold</dd>

<dt><b>Version:</b></dt>
	<dd>0.90</dd>

<dt><b>Since:</b></dt>
	<dd>2006-08-21
</dd>

<p>
<i>Unless otherwise noted, <code>$self

</code> is the object instance variable.</i>
<p>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'><th align=left><font size='+2'>Method Summary</font></th></tr>

<tr><td align=left valign=top>
<code><a href='#getLogLevel'>getLogLevel</a>()</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current log level


</td></tr>

<tr><td align=left valign=top>
<code><a href='#logError'>logError</a>($msg)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log an error message
</td></tr>

<tr><td align=left valign=top>
<code><a href='#logInfo'>logInfo</a>($msg, $level)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log an informational message
</td></tr>

<tr><td align=left valign=top>
<code><a href='#logRequest'>logRequest</a>($addr, $status, $size)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log a web request
</td></tr>

<tr><td align=left valign=top>
<code><a href='#logTiming'>logTiming</a>($msg)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log detail message timing traces
</td></tr>

<tr><td align=left valign=top>
<code><a href='#logWarning'>logWarning</a>($msg)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log a warning message
</td></tr>

<tr><td align=left valign=top>
<code><a href='#scanForLogging'>scanForLogging</a>($request)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collect web request log info
</td></tr>

<tr><td align=left valign=top>
<code><a href='#setLogLevel'>setLogLevel</a>($level)</code>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the current log level


</td></tr>
</table>
<p>

<a name='method_detail'></a>
<table border=1 cellpadding=3 cellspacing=0 width='100%'>
<tr bgcolor='#9800B500EB00'>
	<th align=left><font size='+2'>Method Details</font></th>
</tr></table>

<a name='getLogLevel'></a>
<h3>getLogLevel</h3>
<pre>
getLogLevel()
</pre><p>
<dl>
<dd>Returns the current log level


<p>
<dd><dl>
<dt><b>Returns:</b><dd>log level
</dd>
</dl></dd></dl><hr>

<a name='logError'></a>
<h3>logError</h3>
<pre>
logError($msg)
</pre><p>
<dl>
<dd>Log an error message. Prefix the message with the
error tag and the type of the object reporting the error


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$msg</code> - error message text

</dd>
<dt><b>Returns:</b><dd>undef
</dd>
</dl></dd></dl><hr>

<a name='logInfo'></a>
<h3>logInfo</h3>
<pre>
logInfo($msg, $level)
</pre><p>
<dl>
<dd>Log an informational message. Prefix the message with the
information tag and the type of the object reporting the error.
Informational logs are only applied when the object's loglevel > 2,
or greater than the specified minimum loglevel


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$msg</code> - information message text
</dd>
<dd><code>$level</code> - optional minimum log level at which to log the text

</dd>
<dt><b>Returns:</b><dd>$self
</dd>
</dl></dd></dl><hr>

<a name='logRequest'></a>
<h3>logRequest</h3>
<pre>
logRequest($addr, $status, $size)
</pre><p>
<dl>
<dd>Log a web request. The previously stored HTTP request log fragments
are combined with the client IP address, response timestamp, response status, and
response size. The output format is the Apache Combined Log format.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$addr</code> - client IP address
</dd>
<dd><code>$status</code> - response HTTP status code
</dd>
<dd><code>$size</code> - response size in bytes

</dd>
<dt><b>Returns:</b><dd>this object
</dd>
<dt><b>See Also:</b></dt><dd><a href='http://httpd.apache.org/docs/1.3/logs.html#common'>Apache Combined Log format</a></dd>
</dl></dd></dl><hr>

<a name='logTiming'></a>
<h3>logTiming</h3>
<pre>
logTiming($msg)
</pre><p>
<dl>
<dd>Log detail message timing traces. Only logs when the
diagnostic message timing is enabled. No prefixes
are required.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$msg</code> - the message timing text

</dd>
<dt><b>Returns:</b><dd>the object
</dd>
</dl></dd></dl><hr>

<a name='logWarning'></a>
<h3>logWarning</h3>
<pre>
logWarning($msg)
</pre><p>
<dl>
<dd>Log a warning message. Prefix the message with the
warning tag and the type of the object reporting the error.
Warnings are only logged when the object's loglevel > 1


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$msg</code> - warning message text

</dd>
<dt><b>Returns:</b><dd>this object
</dd>
</dl></dd></dl><hr>

<a name='scanForLogging'></a>
<h3>scanForLogging</h3>
<pre>
scanForLogging($request)
</pre><p>
<dl>
<dd>Collect web request log info. The HTTP request line, user authorization, referer,
and user agent are collected for later logging purposes. The collected information
is stored in this Logable object for later use when the response is eventually
sent back to the client. Note that this step is required
in order to avoid altering the standard HTTP::Daemon::ClientConn send_XXX()
interfaces overridden by HTTP::Daemon::Threaded::Socket to provide automatic web logging
capability. Only performed if a WebLogger is configured.


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$request</code> - an HTTP::Request object

</dd>
<dt><b>Returns:</b><dd>this Logable object
</dd>
</dl></dd></dl><hr>

<a name='setLogLevel'></a>
<h3>setLogLevel</h3>
<pre>
setLogLevel($level)
</pre><p>
<dl>
<dd>Updates the current log level


<p>
<dd><dl>
<dt><b>Parameters:</b>
<dd><code>$level</code> - new log level

</dd>
<dt><b>Returns:</b><dd>new log level
</dd>
</dl></dd></dl><hr>

<small>
<center>
<i>Generated by psichedoc on Mon Aug 28 09:45:39 2006</i>
</center>
</small>
</body>
</html>
